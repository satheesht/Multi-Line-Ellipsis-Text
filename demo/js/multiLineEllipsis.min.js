!function(t){function e(e,i,l,o){var s,a,r=e.innerHTML,d=n("&nbsp;",e),f=r.split(" "),p=[],c=0,y=[],u=0,h=0,m=1;if(1==l)a="<span class='liner'>"+r+"</span>",n(r,e)>i&&o&&(o=!0);else for(var g=0;g<=f.length;g++,m++)if(s=n(f[g],e),(c+=s)+d*(m-1)>i&&(m=0,y[u]=f.slice(h,g).join(" "),u++,h=g,c=s,l==u+1||!f[g+1])){y.length&&(lines="<span class='liner-nl'>"+y.join("</span><span class='liner-nl'>")+"</span>"),f.slice(g,f.length).join("")&&(p="<span class='liner'>"+f.slice(g,f.length).join(" ")+"</span>"),a=lines+p,n(f.slice(g,f.length).join(" "),e)>i&&o&&(o=!0);break}"ellipsis"!==t(e).css("text-overflow")&&t(e).attr("title",""),o&&t(e).attr("title",""!=t(e).attr("title")&&void 0!=t(e).attr("title")?t(e).attr("title"):r),e.innerHTML=a||"<span class='liner-nl'>"+r+"</span>"}function n(t,e){var n=document.createElement("span");n.style.fontSize=window.getComputedStyle(e).fontSize,n.style.fontFamily=window.getComputedStyle(e).fontFamily,n.style.fontStyle=window.getComputedStyle(e).fontStyle,n.style.textTransform=window.getComputedStyle(e).textTransform,n.style.fontStretch=window.getComputedStyle(e).fontStretch,n.style.fontWeight=window.getComputedStyle(e).fontWeight,n.style.fontVariant=window.getComputedStyle(e).fontVariant,n.innerHTML=t,n.style.visibility="hidden",document.body.appendChild(n);var i=n.getBoundingClientRect().width;return document.body.removeChild(n),i}t.fn.multiLineEllipsis=function(n){var i=t.extend({line:2,tooltip:!0});this.each(function(){e(this,this.offsetWidth,i.line,i.tooltip)})}}(jQuery);